{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const LOCAL_STORAGE_KEY = 'feedback-form-state';\n\nconst defaultFormData = {\n  email: '',\n  message: '',\n};\n\nconst formData = getStoredData();\n\nfunction getStoredData() {\n  try {\n    const data = localStorage.getItem(LOCAL_STORAGE_KEY);\n\n    if (data) {\n      const parsedData = JSON.parse(data);\n\n      if (\n        typeof parsedData.email === 'string' &&\n        typeof parsedData.message === 'string'\n      ) {\n        return parsedData;\n      }\n    }\n  } catch (error) {\n    console.log(error);\n  }\n\n  return { ...defaultFormData };\n}\n\nfunction saveDataToLocalStorage({ email, message }) {\n  localStorage.setItem(\n    LOCAL_STORAGE_KEY,\n    JSON.stringify({\n      email: email.trim(),\n      message: message.trim(),\n    })\n  );\n}\n\nfunction setFormFields({ email, message }) {\n  form.email.value = email;\n  form.message.value = message;\n}\n\nconst form = document.querySelector('.feedback-form');\n\nsetFormFields(formData);\n\nform.addEventListener('input', event => {\n  formData[event.target.name] = event.target.value;\n\n  saveDataToLocalStorage(formData);\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const { email, message } = formData;\n\n  if (!email || !message) {\n    alert('Please fill in all fields!');\n    return;\n  }\n\n  console.log('Form data:', formData);\n\n  formData.email = defaultFormData.email;\n  formData.message = defaultFormData.message;\n\n  setFormFields(formData);\n\n  localStorage.removeItem(LOCAL_STORAGE_KEY);\n});\n"],"names":["LOCAL_STORAGE_KEY","defaultFormData","formData","getStoredData","data","parsedData","error","saveDataToLocalStorage","email","message","setFormFields","form","event"],"mappings":"wFAAA,MAAMA,EAAoB,sBAEpBC,EAAkB,CACtB,MAAO,GACP,QAAS,EACX,EAEMC,EAAWC,EAAa,EAE9B,SAASA,GAAgB,CACvB,GAAI,CACF,MAAMC,EAAO,aAAa,QAAQJ,CAAiB,EAEnD,GAAII,EAAM,CACR,MAAMC,EAAa,KAAK,MAAMD,CAAI,EAElC,GACE,OAAOC,EAAW,OAAU,UAC5B,OAAOA,EAAW,SAAY,SAE9B,OAAOA,CAEV,CACF,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CAED,MAAO,CAAE,GAAGL,EACd,CAEA,SAASM,EAAuB,CAAE,MAAAC,EAAO,QAAAC,GAAW,CAClD,aAAa,QACXT,EACA,KAAK,UAAU,CACb,MAAOQ,EAAM,KAAM,EACnB,QAASC,EAAQ,KAAM,CAC7B,CAAK,CACL,CACA,CAEA,SAASC,EAAc,CAAE,MAAAF,EAAO,QAAAC,GAAW,CACzCE,EAAK,MAAM,MAAQH,EACnBG,EAAK,QAAQ,MAAQF,CACvB,CAEA,MAAME,EAAO,SAAS,cAAc,gBAAgB,EAEpDD,EAAcR,CAAQ,EAEtBS,EAAK,iBAAiB,QAASC,GAAS,CACtCV,EAASU,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAE3CL,EAAuBL,CAAQ,CACjC,CAAC,EAEDS,EAAK,iBAAiB,SAAUC,GAAS,CACvCA,EAAM,eAAc,EAEpB,KAAM,CAAE,MAAAJ,EAAO,QAAAC,CAAS,EAAGP,EAE3B,GAAI,CAACM,GAAS,CAACC,EAAS,CACtB,MAAM,4BAA4B,EAClC,MACD,CAED,QAAQ,IAAI,aAAcP,CAAQ,EAElCA,EAAS,MAAQD,EAAgB,MACjCC,EAAS,QAAUD,EAAgB,QAEnCS,EAAcR,CAAQ,EAEtB,aAAa,WAAWF,CAAiB,CAC3C,CAAC"}